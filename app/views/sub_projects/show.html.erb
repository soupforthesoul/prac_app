<p id="notice"><%= notice %></p>
<%= button_to "Back to All Projects", projects_path, :method=>:get %>
<p>
  <b>Name:</b>
  <%= @sub_project.name %>
</p>

<p>
  <b>Description:</b>
  <%= @sub_project.description %>
</p>

<p>
  <b>Duration (hours):</b>
  <%= @sub_project.duration %>
</p>

<p>
  <b>Startdate:</b>
  <%= @sub_project.startdate %>
</p>

<p>
  <b>Enddate:</b>
  <%= @sub_project.enddate %>
</p>

<p>
  <b>Priority:</b>
  <%= @sub_project.priority %>
</p>
<p>
  <b>Project:</b>
  <%=link_to @sub_project.project.name, @sub_project.project %>
</p>
<br>
<h2>Tasks</h2>
<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Duration</th>
   
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @sub_project.tasks.each do |task| %>
  <tr>
    <td><%= link_to task.name, task %></td>
    <td><%= task.description %></td>
    <td><%= task.duration %></td>

    <td><%= link_to 'Show', task %></td>
    <td><%= link_to 'Edit', edit_task_path(task) %></td>
    <td><%= button_to "delete", task, :method=>:delete, :class=>:destroy %>

</td>
  </tr>
<% end %>
</table>

<br>
<h3>Create new task:</h3>
<%= form_for([@sub_project, @sub_project.tasks.build]) do |f| %>
  

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :description %><br />
    <%= f.text_area :description %>
  </div>
  <div class="field">
    <%= f.label :duration_in_hours %><br />
    <%= f.number_field :duration %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>

<%= link_to 'Edit', edit_sub_project_path(@sub_project) %> |
<%= button_to "Back",  request.env["HTTP_REFERER"], :method => :get %> 
